$(function(){var a,b,c=[],d=!1,e=function(a){var b=$.Deferred();if(c[a].loaded)b.resolve();else if(c[a].loading)b.reject();else{c[a].loading=!0;var d=document.createElement("img");d.onload=function(){c[a].loaded=!0,b.resolve()},d.src=c[a].src}return b.promise()},f=function(a){e(a).then(function(){b.attr("src",c[a].src),g()})},g=function(){b.css({"margin-top":b.height()/2*-1,"margin-left":b.width()/2*-1})},h=function(){a.show().on("click.popup",function(){i()}),$(window).on("resize",function(){g()})},i=function(){a.hide().off(".popup"),b.attr("src","")};$(".image a").on("click",function(e){e.preventDefault(),d||(c=$(".image a").map(function(a){return $(this).data("index",a),{src:$(this).attr("href"),loaded:!1,loading:!1}}).get(),a=$(".popup"),b=a.find("img")),h(),f($(this).data("index"))})}),function(){var a=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:(new Date).getTime(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=(new Date).getTime();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(i,k)),f}};$('a[href="'+document.URL.split(window.location.host)[1].split("/").splice(0,3).join("/")+'"]').parent().addClass("active").closest(".has-children").addClass("active");var b,c=$(".top"),d=$(window),e=!0;b=a(function(){var a=d.scrollTop()>10;e!==a&&(e=a,c.toggleClass("big",!a))},100),d.on("scroll",b).trigger("scroll"),$(".toggle-menu").on("click",function(){$(".mobile-menu").toggleClass("visible")})}(),function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/hu_HU/sdk.js#xfbml=1&version=v2.3&appId=109947529337357",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),function(){var a,b=$("#newsletter-subscription"),c=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/i,d=$("#newsletter-name"),e=$("#newsletter-email"),f=$("#newsletter-message"),g=$("#newsletter-trigger");validate=function(){var b=null;return d.val()?e.val()?c.test(e.val())||(b="Az Ön által megadott e-mail cím helytelen. Kérjük, ellenőrizze."):b="Kérjük, adja meg e-mail címét.":b="Kérjük, adja meg nevét.",b?(a(b,"error"),!1):(f.addClass("hidden"),!0)},a=function(a,b){f.removeClass("error success hidden").addClass(b).html('<i class="fa fa-'+("error"===b?"attention-circled":"ok-circled")+'"></i> '+a)},b.on("submit",function(b){b.preventDefault(),validate()&&(data={name:d.val(),email:e.val()},g.removeClass("fa-envelope").addClass("fa-spin fa-refresh"),$.post("/api/v1/newsletter/subscribe",data).done(function(b){if(void 0===b.error)a("Sikeres feliratkozás","success"),d.add(e).val("");else switch(b.error){case"ALREADY_SUBSCRIBED":a("Ezzel az e-mail címmel már feliratkoztak levelünkre.","error");break;case"SUBSCRIBE_FAILED":a("Váratlan hiba történt. Kérjük, próbálja újra.","error")}}).always(function(){g.removeClass("fa-spin fa-refresh").addClass("fa-envelope")}))})}(),function(){var a,b,c,d,e=$(".partners"),f=e.parent(),g=e.children(),h=g.length,i=g.first(),j=i.outerWidth(!0);d=function(){c=setInterval(function(){b++,b===h-a+1&&(b=0),i.css("margin-left",-1*b*j)},5e3)},$(window).on("resize",function(){var g=Math.floor(f.width()/j);g!==a&&(a=g,e.width(a*j),clearInterval(c),b=0,d())}).trigger("resize"),e.on("mouseenter",function(){clearInterval(c),$(this).on("mouseleave",function(){d()})})}(),function(){var a=$("#slider");if(a.length){var b,c=a.find(".slide"),d=a.find(".pager i"),e=c.length,f=[],g=null,h=null,i=-1,j=5e3,k=function(a){if(void 0===f[a]){var b=new Image,d=c.eq(a),e=d.data("image");b.onload=function(){f[a]=!0,d.css("background-image","url("+e+")"),c.eq(a).trigger("loaded")},b.src=e}},l=function(a){var f=(a+1)%e,g=c.eq(f),i=b;-1!==a&&(i.addClass("out"),d.removeClass("active"),h=setTimeout(function(){i.hasClass("out")&&i.removeClass("in out")},750)),g.removeClass("out").addClass("in"),d.eq(f).addClass("active"),b=g,k((a+2)%e)},m=function(){g=setInterval(function(){l(i++)},j)};k(0),c.eq(0).on("loaded",function(){l(i++),m()}),c.on("mouseenter",function(){$(this).hasClass("in")&&clearInterval(g)}).on("mouseleave",function(){$(this).hasClass("in")&&m()}),d.on("click",function(){$(this).hasClass("active")||(i=e+$(this).index()-1,l(i),clearInterval(g),m())})}}();
//# sourceMappingURL=core.js.map